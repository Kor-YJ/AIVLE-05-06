{% extends "admin/base.html" %}

{% block title %}
    공지사항
{% endblock %}

{% block content %}
  <h1>공지사항 목록</h1>
  <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
    <a href="{% url 'board:board_create' %}" style="margin-right: 10px;">새글 쓰기</a>
  </div>
  <table style="width: 60%; margin: 0 auto; text-align: center; border-collapse: collapse;">
    <thead>
      <tr>
        <th style="border: 1px solid black; padding: 8px;">번호</th>
        <th style="border: 1px solid black; padding: 8px;">제목</th>
        <th style="border: 1px solid black; padding: 8px;">작성자</th>
      </tr>
    </thead>
    <tbody>
      {% for board in boards %}
        <tr>
          <td style="border: 1px solid black; padding: 8px;">{{ board.pk }}</td>
          <td style="border: 1px solid black; padding: 8px;"><a href="{% url 'board:board_detail' board.pk %}">{{ board.title }}</a></td>
          <td style="border: 1px solid black; padding: 8px;">{{ board.author.name }}</td>
        </tr>
      {% endfor %}
    </tbody>
  </table>

  <!-- 페이지네이션 -->
  {% if boards.has_other_pages %}
    <div style="margin-top: 10px;">
      <span style="margin-right: 10px;">
        {% if boards.has_previous %}
          <a href="?page=1">처음</a>
        {% endif %}
      </span>
      <span style="margin-right: 10px;">
        {% if boards.has_previous %}
          <a href="?page={{ boards.previous_page_number }}">이전</a>
        {% endif %}
      </span>
      <span style="margin-right: 10px;">
        페이지 {{ boards.number }} / {{ boards.paginator.num_pages }}
      </span>
      <span style="margin-right: 10px;">
        {% if boards.has_next %}
          <a href="?page={{ boards.next_page_number }}">다음</a>
        {% endif %}
      </span>
      <span style="margin-right: 10px;">
        {% if boards.has_next %}
          <a href="?page={{ boards.paginator.num_pages }}">마지막</a>
        {% endif %}
      </span>
    </div>
  {% endif %}
{% endblock %}
